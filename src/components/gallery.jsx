import axios from "axios";
import React, { useEffect, useState } from "react";

export const Gallery = (props) => {
  const [galery, setGaleri] = useState([]);
  const [startIndex, setStartIndex] = useState(0); // Indeks awal elemen yang ditampilkan
  const itemsPerPage = 3;

  const handleNext = () => {
    // Pastikan tidak melewati batas data
    if (startIndex + itemsPerPage < galery.length) {
      setStartIndex(startIndex + itemsPerPage);
    }
  };

  const handlePrevious = () => {
    // Pastikan tidak melewati batas awal
    if (startIndex - itemsPerPage >= 0) {
      setStartIndex(startIndex - itemsPerPage);
    }
  };

  useEffect(() => {
    axios
      .get(`${process.env.REACT_APP_API_URL}/work_documentation`)
      .then((response) => setGaleri(response.data.data));
  }, []);
  return (
    <div id="galery" className="text-center">
      <div >
        <h2>Gallery</h2>
        
      </div>
      <div className="button-wrapper">
        <button
          onClick={handlePrevious}
          disabled={startIndex === 0}
          className="prev-btn"
        >
          <svg
            width="100"
            height="100"
            viewBox="0 0 120 120"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M80.7265 8.69338C79.7217 9.42681 78.765 10.2158 77.8127 11.0156C77.6824 11.1243 77.552 11.2331 77.4177 11.3451C76.6542 11.9826 75.8964 12.6266 75.1409 13.2735C74.645 13.6969 74.1462 14.1168 73.6475 14.5368C71.1238 16.6639 68.6251 18.8177 66.191 21.047C65.5439 21.6365 64.886 22.2124 64.2254 22.7865C63.4684 23.4502 62.7232 24.127 61.9759 24.8016C61.4871 25.2402 60.9944 25.6733 60.4983 26.1035C59.5684 26.9129 58.6623 27.7477 57.7555 28.5826C57.1046 29.1809 56.4495 29.7726 55.7815 30.3516C54.8722 31.1401 53.9865 31.9537 53.1008 32.7685C52.3578 33.4518 51.611 34.1306 50.8596 34.8047C49.6431 35.8969 48.4383 37.0016 47.2344 38.1077C46.6463 38.6477 46.0576 39.1871 45.469 39.7266C45.2346 39.9414 45.0002 40.1562 44.7659 40.3711C44.6498 40.4774 44.5338 40.5838 44.4143 40.6933C44.0627 41.0156 43.7112 41.3379 43.3596 41.6601C43.2437 41.7664 43.1277 41.8727 43.0082 41.9822C42.7733 42.1976 42.5383 42.413 42.3034 42.6285C41.7266 43.1573 41.1495 43.6857 40.5718 44.2136C39.1156 45.545 37.6697 46.887 36.2285 48.2347C35.3136 49.0895 34.3952 49.9403 33.4719 50.7861C33.248 50.9922 33.0242 51.1982 32.7935 51.4105C32.3197 51.8405 31.8438 52.2632 31.3598 52.6813C29.2105 54.5557 27.6368 56.463 27.3718 59.3829C27.27 61.9966 28.1905 64.1659 29.9521 66.0826C30.3985 66.5174 30.8546 66.9375 31.3186 67.3535C31.4834 67.5045 31.6481 67.6555 31.8178 67.8111C32.304 68.2562 32.7927 68.6984 33.2815 69.1406C33.536 69.3738 33.7902 69.6072 34.0441 69.841C34.4984 70.259 34.9534 70.6762 35.4092 71.0925C36.1424 71.763 36.873 72.4362 37.6028 73.1103C37.7294 73.2273 37.8561 73.3443 37.9866 73.4648C38.2431 73.7018 38.4997 73.9389 38.7562 74.1759C39.5188 74.8804 40.2817 75.5844 41.0446 76.2885C41.6824 76.8772 42.3202 77.466 42.9577 78.0551C44.5343 79.5116 46.1142 80.9644 47.6973 82.4138C48.0537 82.7404 48.4098 83.0674 48.7658 83.3945C50.0379 84.5628 51.3153 85.7247 52.6009 86.878C53.2841 87.4947 53.9617 88.1171 54.6389 88.7402C55.5456 89.574 56.462 90.3944 57.3928 91.2012C58.0358 91.7685 58.6664 92.3489 59.2971 92.9297C60.2251 93.7839 61.1607 94.6272 62.1142 95.4529C62.6513 95.9233 63.1784 96.4041 63.7063 96.8848C64.5078 97.6093 65.3251 98.3026 66.1672 98.9795C67.1566 99.7791 68.0958 100.616 69.0237 101.484C70.1508 102.54 71.3107 103.532 72.5155 104.499C73.1135 104.99 73.6838 105.501 74.2532 106.025C75.4384 107.105 76.6876 108.087 77.9556 109.067C78.6471 109.602 79.3132 110.163 79.9807 110.728C82.2143 112.488 84.4169 112.778 87.1877 112.5C89.0825 112.045 90.4888 111.117 91.5823 109.497C92.8803 107.272 92.7247 105.124 92.1017 102.705C91.7454 101.522 91.2284 100.44 90.6887 99.331C90.4339 98.7934 90.1801 98.2554 89.927 97.717C89.8248 97.4998 89.8248 97.4998 89.7205 97.2784C88.7935 95.2993 87.9291 93.2923 87.0559 91.289C85.6014 87.9571 84.122 84.6377 82.6174 81.3281C80.6624 77.0264 78.7477 72.7077 76.8619 68.3752C76.4806 67.4994 76.0961 66.6253 75.7038 65.7543C75.6291 65.5871 75.5543 65.4198 75.4773 65.2475C75.3386 64.9377 75.1988 64.6283 75.0575 64.3197C73.7128 61.3021 73.8663 58.8328 75.0002 55.7812C75.5063 54.5358 76.0701 53.3157 76.6324 52.0949C77.1084 51.0611 77.5782 50.0243 78.0489 48.988C78.1463 48.7742 78.2436 48.5604 78.3439 48.3401C79.3604 46.1033 80.3453 43.8531 81.3284 41.6016C82.7259 38.4046 84.1413 35.2164 85.5764 32.0361C86.8868 29.1316 88.195 26.2262 89.491 23.3152C89.6521 22.9534 89.8133 22.5918 89.9747 22.2302C93.3338 14.7039 93.3338 14.7039 92.116 11.5219C91.2334 9.66614 89.9708 8.61452 88.1252 7.73436C85.8012 6.91996 82.715 7.30867 80.7265 8.69338Z"
              fill="#D7843E"
            />
          </svg>
        </button>
        <div className="imagegalery"> 
          {galery.length > 0 ? (
            galery.slice(startIndex, startIndex + itemsPerPage).map((galeri) => (
              <div key={galeri.documentation_id}>
                <p className="worker">{galeri.worker.name}</p>
                <img src={galeri.photo_url} alt={galeri.worker.name} />
                <p className="description">{galeri.description}</p>
              </div>
            ))
          ) : (
            <p>Belum ada gambar</p>
          )}
        </div>
        <button
          onClick={handleNext}
          disabled={startIndex + itemsPerPage >= galery.length}
          className="next-btn"
        >
          <svg
            width="100"
            height="100"
            viewBox="0 0 120 120"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M39.2735 8.69338C40.2783 9.42681 41.235 10.2158 42.1873 11.0156C42.3176 11.1243 42.448 11.2331 42.5823 11.3451C43.3458 11.9826 44.1036 12.6266 44.8591 13.2735C45.355 13.6969 45.8538 14.1168 46.3525 14.5368C48.8762 16.6639 51.3749 18.8177 53.809 21.047C54.4561 21.6365 55.114 22.2124 55.7746 22.7865C56.5316 23.4502 57.2768 24.127 58.0241 24.8016C58.5129 25.2402 59.0056 25.6733 59.5017 26.1035C60.4316 26.9129 61.3377 27.7477 62.2445 28.5826C62.8954 29.1809 63.5505 29.7726 64.2185 30.3516C65.1278 31.1401 66.0135 31.9537 66.8992 32.7685C67.6422 33.4518 68.389 34.1306 69.1404 34.8047C70.3569 35.8969 71.5617 37.0016 72.7656 38.1077C73.3537 38.6477 73.9424 39.1871 74.531 39.7266C74.7654 39.9414 74.9998 40.1562 75.2341 40.3711C75.3502 40.4774 75.4662 40.5838 75.5857 40.6933C75.9373 41.0156 76.2888 41.3379 76.6404 41.6601C76.7563 41.7664 76.8723 41.8727 76.9918 41.9822C77.2267 42.1976 77.4617 42.413 77.6966 42.6285C78.2734 43.1573 78.8505 43.6857 79.4282 44.2136C80.8844 45.545 82.3303 46.887 83.7715 48.2347C84.6864 49.0895 85.6048 49.9403 86.5281 50.7861C86.752 50.9922 86.9758 51.1982 87.2065 51.4105C87.6803 51.8405 88.1562 52.2632 88.6402 52.6813C90.7895 54.5557 92.3632 56.463 92.6282 59.3829C92.73 61.9966 91.8095 64.1659 90.0479 66.0826C89.6015 66.5174 89.1454 66.9375 88.6814 67.3535C88.5166 67.5045 88.3519 67.6555 88.1822 67.8111C87.696 68.2562 87.2073 68.6984 86.7185 69.1406C86.464 69.3738 86.2098 69.6072 85.9559 69.841C85.5016 70.259 85.0466 70.6762 84.5908 71.0925C83.8576 71.763 83.127 72.4362 82.3972 73.1103C82.2706 73.2273 82.1439 73.3443 82.0134 73.4648C81.7569 73.7018 81.5003 73.9389 81.2438 74.1759C80.4812 74.8804 79.7183 75.5844 78.9554 76.2885C78.3176 76.8772 77.6798 77.466 77.0423 78.0551C75.4657 79.5116 73.8858 80.9644 72.3027 82.4138C71.9463 82.7404 71.5902 83.0674 71.2342 83.3945C69.9621 84.5628 68.6847 85.7247 67.3991 86.878C66.7159 87.4947 66.0383 88.1171 65.3611 88.7402C64.4544 89.574 63.538 90.3944 62.6072 91.2012C61.9642 91.7685 61.3336 92.3489 60.7029 92.9297C59.7749 93.7839 58.8393 94.6272 57.8858 95.4529C57.3487 95.9233 56.8216 96.4041 56.2937 96.8848C55.4922 97.6093 54.6749 98.3026 53.8328 98.9795C52.8434 99.7791 51.9042 100.616 50.9763 101.484C49.8492 102.54 48.6893 103.532 47.4845 104.499C46.8865 104.99 46.3162 105.501 45.7468 106.025C44.5616 107.105 43.3124 108.087 42.0444 109.067C41.3529 109.602 40.6868 110.163 40.0193 110.728C37.7857 112.488 35.5831 112.778 32.8123 112.5C30.9175 112.045 29.5112 111.117 28.4177 109.497C27.1197 107.272 27.2753 105.124 27.8983 102.705C28.2546 101.522 28.7716 100.44 29.3113 99.331C29.5661 98.7934 29.8199 98.2554 30.073 97.717C30.1752 97.4998 30.1752 97.4998 30.2795 97.2784C31.2065 95.2993 32.0709 93.2923 32.9441 91.289C34.3986 87.9571 35.878 84.6377 37.3826 81.3281C39.3376 77.0264 41.2523 72.7077 43.1381 68.3752C43.5194 67.4994 43.9039 66.6253 44.2962 65.7543C44.3709 65.5871 44.4457 65.4198 44.5227 65.2475C44.6614 64.9377 44.8012 64.6283 44.9425 64.3197C46.2872 61.3021 46.1337 58.8328 44.9998 55.7812C44.4937 54.5358 43.9299 53.3157 43.3676 52.0949C42.8916 51.0611 42.4218 50.0243 41.9511 48.988C41.8537 48.7742 41.7564 48.5604 41.6561 48.3401C40.6396 46.1033 39.6547 43.8531 38.6716 41.6016C37.2741 38.4046 35.8587 35.2164 34.4236 32.0361C33.1132 29.1316 31.805 26.2262 30.509 23.3152C30.3479 22.9534 30.1867 22.5918 30.0253 22.2302C26.6662 14.7039 26.6662 14.7039 27.884 11.5219C28.7666 9.66614 30.0292 8.61452 31.8748 7.73436C34.1988 6.91996 37.285 7.30867 39.2735 8.69338Z"
              fill="#D7843E"
            />
          </svg>
        </button>
      </div>
    </div>
  );
};
